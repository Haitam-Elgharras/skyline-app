import React from "react";
import { Text, Button, Grid, Row } from "@nextui-org/react";
import { useMutation, useQueryClient } from "react-query";
import { useRouter } from 'next/router';
import axios from "axios";
import { Router } from "react-router-dom";
import { useUser } from "@auth0/nextjs-auth0";

const DeleteBuilding = () => {
    const user = useUser();
    const router = useRouter();
    const deleteThisBuilding = (async () => {
        // console.log("add my building neeo")
        await axios.get('/api/delBuildingAPI');
        router.push('/buildings');
    })

    return (
        <Grid.Container
            css={{ borderRadius: "14px", padding: "0.75rem", maxWidth: "330px" }}
        >
            <Row justify="center" align="center">
                <Text b>Confirm</Text>
            </Row>
            <Row>
                <Text>
                    Are you sure you want to delete this building ? By doing this, you will
                    not be able to recover the data.
                </Text>
            </Row>
            <Grid.Container>
                {/* <Grid>
                    <Button size="sm" light onClick={() => {
                        window.dispatchEvent(new KeyboardEvent('keydown', {
                            'key': 'Escape'
                        }))
                    }}>
                        Cancel
                    </Button>
                </Grid> */}
                <Grid alignContent="center">
                    <Button size="sm" shadow color="error" onClick={deleteThisBuilding}>
                        Delete
                    </Button>
                </Grid>
            </Grid.Container>
        </Grid.Container >
    );
};
export default DeleteBuilding;